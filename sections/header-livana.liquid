<!-- Header for LivanaStore -->
<header class="header-livana" data-section-id="{{ section.id }}">
  <div class="container header-livana__container">
    <div class="header-livana__left">
      <a href="{{ routes.root_url }}" class="header-livana__logo">
        {%- if section.settings.logo != blank -%}
          <img src="{{ section.settings.logo | image_url: width: 100 }}" alt="{{ shop.name }}" style="max-width: {{ section.settings.logo_width }}px;">
        {%- else -%}
          <span>{{ shop.name }}</span>
        {%- endif -%}
      </a>
    </div>

    <nav class="header-livana__center">
      <ul class="header-livana__menu">
        {%- for link in linklists[section.settings.menu].links -%}
          <li class="{% if link.links != blank %}has-dropdown{% endif %}">
            <a href="{{ link.url }}">{{ link.title }}</a>
            {%- if link.links != blank -%}
              <div class="mega-menu">
                <div class="container">
                  <ul class="mega-menu__list">
                    {%- for child_link in link.links -%}
                      <li><a href="{{ child_link.url }}">{{ child_link.title }}</a></li>
                    {%- endfor -%}
                  </ul>
                </div>
              </div>
            {%- endif -%}
          </li>
        {%- endfor -%}
      </ul>
    </nav>

    <div class="header-livana__right">
      <div class="header-livana__icons">
        <a href="{{ routes.search_url }}" class="header-livana__icon-link">
          <svg class="icon icon-search" aria-hidden="true" focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none">
            <path d="m14.953 14.945-3.045-3.045m-2.406-4.496a4.882 4.882 0 11-9.764 0 4.882 4.882 0 019.764 0z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
        <a href="{{ routes.account_url }}" class="header-livana__icon-link">
          <svg class="icon icon-account" aria-hidden="true" focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="6.5" r="2.75" stroke="currentColor" />
            <path d="m5.172 14.591-.437.786a.588.588 0 0 0 .514.873h9.502a.588.588 0 0 0 .514-.873l-.437-.786a5.523 5.523 0 0 0-9.656 0" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </a>
        <a href="{{ routes.cart_url }}" class="header-livana__cart-icon header-livana__icon-link">
          <!-- SVG Cart Icon -->
          <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-cart" viewBox="0 0 20 20" fill="none"><path d="M3.392 6.875h13.216v8.016c0 .567-.224 1.112-.624 1.513-.4.402-.941.627-1.506.627H5.522a2.13 2.13 0 0 1-1.506-.627 2.15 2.15 0 0 1-.624-1.513zM8.818 2.969h2.333c.618 0 1.211.247 1.649.686a2.35 2.35 0 0 1 .683 1.658v1.562H6.486V5.313c0-.622.246-1.218.683-1.658a2.33 2.33 0 0 1 1.65-.686" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" /></svg>
          <span class="cart-item-count">{{ cart.item_count }}</span>
        </a>
      </div>
      <button class="header-livana__hamburger">
        <svg class="icon icon-hamburger" aria-hidden="true" focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none">
          <path d="M3 5h14M3 10h14M3 15h14" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    </div>
  </div>

  <div class="mobile-nav" id="mobile-nav">
    <ul class="mobile-nav__menu">
      {%- for link in linklists[section.settings.menu].links -%}
        <li>
          <a href="{{ link.url }}">{{ link.title }}</a>
        </li>
      {%- endfor -%}
    </ul>
  </div>
</header>

{% schema %}
{
  "name": "Header - Livana",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 5,
      "unit": "px",
      "label": "Custom logo width",
      "default": 100
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %} 